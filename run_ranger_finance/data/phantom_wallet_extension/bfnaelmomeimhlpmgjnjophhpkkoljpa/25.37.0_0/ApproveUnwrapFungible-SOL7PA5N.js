import{a as te}from"./chunk-2WMAPW4H.js";import"./chunk-FX5HHNJI.js";import{a as oe}from"./chunk-HYP5XZLT.js";import{u as R,ya as ne}from"./chunk-4QKXPLD7.js";import"./chunk-YHBVYGVK.js";import"./chunk-5PSMATJ6.js";import"./chunk-GAZ6S2JL.js";import{s as ee}from"./chunk-BRNBO5CW.js";import"./chunk-NOEGQPO4.js";import"./chunk-ZOSQCFZI.js";import"./chunk-S2U2M74Z.js";import"./chunk-GQWEBF5F.js";import"./chunk-T5Z6UNYJ.js";import"./chunk-B5QR6YXS.js";import"./chunk-PRRDOZZN.js";import"./chunk-WJGU35II.js";import"./chunk-NHAVVXOV.js";import"./chunk-2BZYLIYT.js";import{a as T}from"./chunk-VGSD3HGK.js";import{g as Z,k as _}from"./chunk-XCF46LSQ.js";import"./chunk-WSQ7DJRP.js";import"./chunk-Y5G35CJ3.js";import"./chunk-GWN4TKCT.js";import"./chunk-ME2M2M3E.js";import"./chunk-VFRN3JHE.js";import"./chunk-MRNT3JR7.js";import"./chunk-FTMFHTMX.js";import"./chunk-G7SUPDIB.js";import"./chunk-NF3CQLHB.js";import"./chunk-JHOWMCAF.js";import"./chunk-MTFI7Z6Z.js";import"./chunk-E5TK5K23.js";import"./chunk-KU4NYJ65.js";import{A as q,B as J,Sa as K,Xa as Q,k as z,x as O,z as j}from"./chunk-TZQSBP6H.js";import"./chunk-GKHH5GNI.js";import"./chunk-MGZWMRRY.js";import"./chunk-J4EMQFBO.js";import"./chunk-YTR3MBED.js";import"./chunk-FF2UM7NZ.js";import"./chunk-KDUIOG25.js";import"./chunk-QZM2WVGA.js";import"./chunk-4APBQPA6.js";import{d as X}from"./chunk-XLGDZEPU.js";import{c as W,db as Y,m as w}from"./chunk-NF4WCJZY.js";import"./chunk-7XT6ZBFT.js";import"./chunk-6T44YMNA.js";import"./chunk-XAXP5QQK.js";import"./chunk-JRXOTVYG.js";import"./chunk-CDGG3G3C.js";import"./chunk-VQ7QS3TU.js";import"./chunk-627GUZ7R.js";import"./chunk-XO3ZXIMS.js";import"./chunk-OKPBXZFL.js";import{$a as I,Rb as B}from"./chunk-LN2IIXED.js";import{aa as L}from"./chunk-GDQEBDFS.js";import"./chunk-ONXNUG5Z.js";import{Zb as h}from"./chunk-ZKZ45RUP.js";import{S as V,u as M}from"./chunk-SQ25X4DP.js";import{Ia as $,X as H,c as ye,ya as i}from"./chunk-HUAJDUGD.js";import"./chunk-FURBY5ME.js";import"./chunk-JQQEIQFI.js";import"./chunk-2XAH4CUH.js";import{f as Se,h as N,n as G}from"./chunk-SXSSBWAU.js";N();G();var e=Se(ye());var Te=w(T).attrs({align:"center"})`
  height: 100%;
`,be=w(T).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,he=w(T).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,Fe=w(Y).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Ee=(n,t)=>{let{status:m,data:s}=O({networkID:n}),[o,d]=(0,e.useState)("standard"),{popDetailView:a,pushDetailView:p}=Z(),f;return m!=="error"&&s&&o&&t&&(f=()=>{p(e.default.createElement(oe,{onSelectTransactionSpeed:d,selectedTransactionSpeed:o,networkID:n,transactionUnitAmount:t,closeModal:a}))}),{transactionSpeed:o,openGasSettings:f}},ke=n=>{let{t}=H(),m=W(),{handleHideModalVisibility:s}=ne(),{chain:o,tokenAddress:d,balance:a,symbol:p,logoUri:f,walletAddress:ae}=n.data,r=o.id,F=h.getNetworkName(r),{data:re}=I(),se=re?.addresses??[],{data:l}=B({networkID:r,address:ae}),u=(0,e.useMemo)(()=>({pageHeaderText:t("unwrapFungibleConfirmSwap"),swapTitle:t("unwrapFungibleConfirmSwapTitle",{fromToken:p,toToken:o.symbol}),networkFeeText:t("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:t("networkFeesTooltipDescription",{chainName:F}),confirmSwap:t("commandSwap"),cancelSwap:t("commandClose")}),[o.symbol,F,p,t]),{data:S,isPending:ie}=z({amount:a,caip19:{chainId:r,resourceType:"address",address:d??""},owner:l?.address??""}),c=(0,e.useMemo)(()=>S&&l?M.parse({to:S.to,from:l.address??"",data:S.data}):void 0,[S,l]),E=(0,e.useMemo)(()=>c?{type:"eip155",networkID:r,unsignedTransaction:c}:void 0,[r,c]),{data:me}=j(E),{transactionSpeed:pe,openGasSettings:k}=Ee(r,me),{data:g,isFetched:U,isError:v,isSuccess:ce}=q({networkID:r,transactionSpeed:pe,multichainTransaction:E,queryOptions:{refetchInterval:!1}}),{data:x}=J(r,g),de=x?.gasEstimationPriceUSD?t("gasUpTo",{amount:x?.gasEstimationPriceUSD}):void 0,le=L(g),b=de??le??"",{hasSufficientFunds:D,nativeTokenSymbol:A}=K({networkID:r,addressType:l?.addressType,gasEstimation:g,transactionValue:new V(a??"0",16)}),C=U&&!ce,y=(0,e.useMemo)(()=>v?t("transactionGasLimitError"):C?t("transactionGasEstimationError"):D==="insufficient"?t("transactionNotEnoughNative",{nativeTokenSymbol:A}):"",[v,C,D,t,A]),ue=(0,e.useMemo)(()=>[{label:t("commandSend"),value:`+${a} ${o.symbol}`,color:i.colors.legacy.spotPositive},{label:t("commandReceive"),value:`-${a} ${p}`,color:i.colors.legacy.spotNegative},{label:u.networkFeeText,onClick:k,value:b.length>0?b:e.default.createElement(ee,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:i.colors.legacy.borderDiminished}),color:y?i.colors.legacy.spotNegative:i.colors.legacy.textBase,leftSubtext:y,subtextColor:i.colors.legacy.spotNegative,tooltipContent:u.networkFeeTextDescription}],[a,o.symbol,u.networkFeeText,u.networkFeeTextDescription,b,y,k,p,t]),{mutateAsync:P,isPending:ge}=Q(se),we=(0,e.useCallback)(()=>{P({fungible:n,unsignedUnwrapTx:c,gasEstimation:g}),s("approveUnwrapFungible"),m("/notifications")},[n,g,s,m,c,P]),fe=(0,e.useCallback)(()=>{s("approveUnwrapFungible")},[s]);return{isLoading:ie||!U,isSwapDisabled:ge||!c||!!y,logoUri:f,summaryRows:ue,i18nStrings:u,onConfirmSwap:we,onDenySwap:fe}},Ue=({fungible:n})=>{if(h.isEthereumNetworkID(n.data.chain.id)){let t=ke(n);return e.default.createElement(ve,{...t})}throw new Error(`Unwrap fungible not supported for chain: ${n.data.chain.id}`)},ot=Ue,ve=e.default.memo(({isLoading:n,isSwapDisabled:t,logoUri:m,summaryRows:s,i18nStrings:o,onConfirmSwap:d,onDenySwap:a})=>e.default.createElement(Te,null,e.default.createElement(_,null,o.pageHeaderText),e.default.createElement(be,null,e.default.createElement(he,null,e.default.createElement(R,{image:{type:"icon",preset:"swap"},size:64,badge:{src:m??""}}),e.default.createElement(Fe,null,o.swapTitle)),e.default.createElement(te,{rows:s,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),e.default.createElement($,{mode:"wait",initial:!1},e.default.createElement(X,{primaryText:o.confirmSwap,secondaryText:o.cancelSwap,primaryDisabled:n||t,onPrimaryClicked:d,onSecondaryClicked:a})))));export{ot as default};
//# sourceMappingURL=ApproveUnwrapFungible-SOL7PA5N.js.map
