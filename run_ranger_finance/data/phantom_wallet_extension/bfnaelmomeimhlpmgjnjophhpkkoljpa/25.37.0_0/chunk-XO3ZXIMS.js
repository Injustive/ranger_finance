import{I as Pe,Qa as _e,R as Oe,S as Ue,Y as Me,k as Re,q as re,wb as Le,xb as Ne,za as se}from"./chunk-LN2IIXED.js";import{Ea as xe,Ga as te,Hc as ve,Lc as we,Nd as ke,Pc as Te,Rd as z,Zb as v,_ as j,_c as g,_d as k,ad as C,ba as H,jd as y,ld as f,od as m,wc as Ce,wd as be,xc as he,xd as De}from"./chunk-ZKZ45RUP.js";import{B as W,I as Ee,S as L,X as Ie,Ya as b,c as U,l as h,s as ee,u as Ae}from"./chunk-HUAJDUGD.js";import{f as O,h as n,n as i}from"./chunk-SXSSBWAU.js";n();i();n();i();n();i();var w={};var Ke={...w,defaultExplorer:"arbiscan",getExplorerUrl:function(e){let t;switch(e){case"eip155:421614":t="sepolia.";break;case"eip155:42161":default:t=""}return{arbiscan:(r,s)=>{let o=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${t}arbiscan.io/${a}/${o}`}}}};n();i();var Fe={...w,defaultExplorer:"basescan",getExplorerUrl:function(e){let t;switch(e){case"eip155:84532":t="sepolia.";break;case"eip155:8453":default:t=""}return{basescan:(r,s)=>{let o=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${t}basescan.org/${a}/${o}`}}}};n();i();var qe={getExplorerUrl:function(){return{mempool:(e,t)=>`https://mempool.space/${{transaction:"tx",address:"address"}[e]}/${t}`}},defaultExplorer:"mempool"};n();i();var Qe={...w,getExplorerUrl(e){let t;switch(e){case"eip155:11155111":t="sepolia.";break;case"eip155:1":default:t=""}return{etherscan:(r,s)=>{let o=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${t}etherscan.io/${a}/${o}`}}},defaultExplorer:"etherscan"};n();i();var Ve={...w,defaultExplorer:"hyperliquid",getExplorerUrl:function(e){let t;switch(e){case"hypercore:testnet":t="app.hyperliquid-testnet.xyz";break;case"hypercore:mainnet":default:t="app.hyperliquid.xyz"}return{hyperliquid:(r,s)=>{let o=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address"}[r];return`https://${t}/explorer/${a}/${o}`}}}};n();i();var Be={...w,getExplorerUrl:function(){return{monadexplorer:(e,t)=>{let r=Array.isArray(t)?t.join("/"):t;return`https://testnet.monadexplorer.com/${{transaction:"tx",address:"address",token:"token",nft:"nft"}[e]}/${r}`}}},defaultExplorer:"monadexplorer",betaTagOverride:"Testnet"};n();i();var $e={...w,getExplorerUrl:function(e){let t;switch(e){case"eip155:80002":t="amoy.";break;case"eip155:137":default:t=""}return{polygonscan:(r,s)=>{let o=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${t}polygonscan.com/${a}/${o}`}}},defaultExplorer:"polygonscan"};n();i();var We={getExplorerUrl:function(e){let t;switch(e){case"solana:103":t="devnet";break;case"solana:102":t="testnet";break;case"solana:101":t="mainnet-beta";break;case"solana:localnet":t="mainnet-beta";break}let r="";return["devnet","testnet"].includes(t)&&(r=`?cluster=${t}`),{"solana-beach":(s,o)=>`https://solanabeach.io/${s}/${o}${r}`,solscan:(s,o)=>`https://solscan.io/${{transaction:"tx",address:"account"}[s]}/${o}${r}`,"solana-explorer":(s,o)=>`https://explorer.solana.com/${s}/${o}${r}`,"solana-fm":(s,o)=>{let a={"mainnet-beta":"mainnet-qn1",testnet:"testnet-solana",devnet:"devnet-solana",localhost:"localhost"}[t];return`https://solana.fm/${{transaction:"tx",address:"address"}[s]}/${o}?cluster=${a}`},xray:(s,o)=>`https://xray.helius.xyz/${{transaction:"tx",address:"token"}[s]}/${o}${r}`}},defaultExplorer:"solscan"};n();i();var je={getExplorerUrl:function(e){return{suiscan:(t,r)=>{let s;switch(e){case"sui:testnet":s="testnet";break;case"sui:mainnet":s="mainnet";break}let o={transaction:"tx",address:"account",token:"coin",nft:"object"}[t];return`https://suiscan.xyz/${s}/${o}/${r}`},suivision:(t,r)=>{let s;switch(e){case"sui:testnet":s="testnet.";break;case"sui:mainnet":s="";break}let o={transaction:"txblock",address:"account",token:"coin",nft:"object"}[t];return`https://${s}suivision.xyz/${o}/${r}`}}},defaultExplorer:"suivision"};var _t=new he({solana:We,ethereum:Qe,polygon:$e,monad:Be,base:Fe,arbitrum:Ke,bitcoin:qe,sui:je,hypercore:Ve}),I=Ce(_t);n();i();n();i();n();i();n();i();var M=[{value:"en",displayValue:"English",isLocale:!1},{value:"es",displayValue:"Espa\xF1ol",isLocale:!1},{value:"de",displayValue:"Deutsch",isLocale:!1},{value:"fr",displayValue:"Fran\xE7ais",isLocale:!1},{value:"it",displayValue:"Italiano",isLocale:!1},{value:"zh-CN",displayValue:"\u4E2D\u6587(\u7B80\u4F53)",isLocale:!0},{value:"zh-TW",displayValue:"\u4E2D\u6587(\u7E41\u9AD4)",isLocale:!0},{value:"bn",displayValue:"\u09AC\u09BE\u0982\u09B2\u09BE",isLocale:!1},{value:"ja",displayValue:"\u65E5\u672C",isLocale:!1},{value:"ko",displayValue:"\uD55C\uAD6D\uC5B4",isLocale:!1},{value:"ru",displayValue:"P\u0443\u0441\u0441\u043A\u0438\u0439",isLocale:!1},{value:"hi",displayValue:"\u0939\u093F\u0902\u0926\u0940",isLocale:!1},{value:"id",displayValue:"Indonesia",isLocale:!1},{value:"ms",displayValue:"Melayu",isLocale:!1},{value:"th",displayValue:"\u0E44\u0E17\u0E22",isLocale:!1},{value:"vi",displayValue:"Ti\u1EBFng Vi\u1EC7t",isLocale:!1},{value:"pt",displayValue:"Portugu\xEAs",isLocale:!1},{value:"tr",displayValue:"T\xFCrk\xE7e",isLocale:!1},{value:"fil",displayValue:"Filipino",isLocale:!1},{value:"my",displayValue:"\u1019\u103C\u1014\u103A\u1019\u102C\u1018\u102C\u101E\u102C",isLocale:!1},{value:"am",displayValue:"\u12A0\u121B\u122D\u129B",isLocale:!1},{value:"ar",displayValue:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",isLocale:!1},{value:"gu",displayValue:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",isLocale:!1},{value:"ha",displayValue:"Hausa",isLocale:!1},{value:"ig",displayValue:"\xC1s\u1EE5\u0300s\u1EE5\u0301 \xCCgb\xF2",isLocale:!1},{value:"pa",displayValue:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40",isLocale:!1},{value:"sw",displayValue:"Kiswahili",isLocale:!1},{value:"ta",displayValue:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",isLocale:!1},{value:"te",displayValue:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",isLocale:!1},{value:"yo",displayValue:"\xC8d\xE8 Yor\xF9b\xE1",isLocale:!1}];n();i();var He=()=>{let e=[];return M.forEach(t=>{e.push(t.value),t.isLocale&&e.push(t.value.substr(0,2))}),[...new Set(e)]},G=(e,t)=>e.substr(0,3)==="fil"?t==="fil":e.substr(0,2)==="zh"?e==="zh-TW"?t==="zh-TW":t==="zh-CN":t===e.substr(0,2),ze=e=>M.find(t=>G(e,t.value))?.displayValue,Ge=e=>M.find(t=>G(e,t.value))?.value;var vo=15,Y={version:1,addresses:[]},X={version:1,addresses:[]},Ye=20,Lt=()=>{let e={};return v.getAllNetworkIDs().forEach(t=>{let r=I.get(t).defaultExplorer;r&&(e[t]=r)}),e},oe={version:1,explorers:Lt()},Xe={"solana-beach":"Solana Beach",solscan:"Solscan","solana-explorer":"Solana Explorer","solana-fm":"Solana FM",xray:"XRAY",etherscan:"Etherscan",basescan:"Basescan",arbiscan:"Arbiscan",polygonscan:"Polygonscan",mempool:"Mempool",suivision:"SuiVision",suiscan:"Suiscan",monadexplorer:"Monad Explorer",hyperliquid:"Hyperliquid Explorer"},Je={version:1,apps:{}};var Nt={default:"",light:"1f3fb",medium_light:"1f3fc",medium:"1f3fd",medium_dark:"1f3fe",dark:"1f3ff"},wo={"":"","1f3fb":"\u{1F3FB}","1f3fc":"\u{1F3FC}","1f3fd":"\u{1F3FD}","1f3fe":"\u{1F3FE}","1f3ff":"\u{1F3FF}"},To={version:1,skinTone:Nt.default},Ze=Ee,et=!0,tt=z({minutes:15}),N=7200;n();i();var J=({networkID:e,endpoint:t,param:r,explorerType:s})=>{let a=I.get(e).getExplorerUrl(e)[s??I.get(e).defaultExplorer];return a?a(t,r):""},rt=e=>{if(!e)return;let{explorers:t}=e,r={};return v.getAllNetworkIDs().forEach(o=>{let a=v.getNetworkName(o),u=t[o];r[a]=u}),{...e,explorers:r}};n();i();n();i();var Kt=e=>{switch(e){case"privateKey":return L.t("removeAccountWarningPrivateKey");case"seed":return L.t("removeAccountWarningSeed");case"ledger":return L.t("removeAccountWarningLedger");case"seedVault":return L.t("removeAccountWarningSeedVault");case"readOnly":return L.t("removeAccountWarningReadOnly")}};n();i();var Ft=(e,t)=>e.filter(s=>st(t,s.title)||st(t,s.tags?.join(" "))),st=(e,t)=>{if(t===void 0)return!1;let r=e.toLowerCase();return t.toLowerCase().split(" ").map(s=>s.startsWith(r)||r.startsWith(s)&&t.toLowerCase().includes(r)).includes(!0)};n();i();async function qt(e){for(let t of e){let r=await t.get("networkSetting");if(r)return r.setting}return Pe().setting}n();i();n();i();n();i();n();i();var Qt="currency",Vt="currencyExchangeRates",V={currencyExchangeRates:()=>[Qt,Vt,W]};var Bt=e=>e.queryKey[1]===V.currencyExchangeRates()[1]&&e.queryKey[2]===W;n();i();n();i();n();i();var $t="/currency_exchange/v1/rates",ne=async()=>{let e=await j.api().get(`${$t}?from=USD&currencies=${Object.keys(b).join(",")}`);if(!H(e))throw new Error("Failed to fetch exchange rates");return await e.data};var Wt=z({hours:2}),jt=e=>m({queryKey:V.currencyExchangeRates(),queryFn:ne,enabled:!!e,staleTime:Wt,select(t){return e?t?.rates[e]:1}});n();i();n();i();var ot=()=>{try{let e=we.getMultivariateAssignment("auto-confirm-session-duration"),t=Number(e);if(!isNaN(t)&&t>0)return t}catch{}return N};n();i();n();i();var x="@phantom/settings",d={appPermissions(e,...t){return[`${x}:app-permissions`,e,t]},emojiSkinTone(){return[`${x}:emoji-skin-tone`]},isAnalyticsOptedOut(){return[`${x}:is-analytics-opted-out`]},solanaActionsEnabled(){return[`${x}:solana-actions-enabled`]},showWalletShortcuts(){return[`${x}:show-wallet-shortcuts`]},preferredExplorers(){return[`${x}:preferred-explorers`]},recentAddresses(){return[`${x}:recent-addresses`]},savedAddresses(){return[`${x}:saved-addresses`]},trustedApps(){return[`${x}:trusted-apps`]},metaMaskOverride(){return[`${x}:metamask-override`]},autoConfirm(e,t){return[x,"auto-confirm",e,t]},allAutoConfirm(e){return[x,"auto-confirm",e]},allAutoConfirmOnAllAccounts(){return[x,"auto-confirm"]},autoConfirmLocalhost(){return[x,"auto-confirm","auto-confirm-localhost:v1"]},webViewDebugging(){return[`${x}:enable-webview-debugging:v1`]},selectedCurrency(){return[`${x}:selected-currency`]}};var ie=h.enum(["ALWAYS_ASK","USE_PHANTOM","USE_METAMASK"]),nt="metaMaskOverride";async function it(e){let t=await e.get(nt),r=ie.safeParse(t);return r.success?r.data:ie.enum.ALWAYS_ASK}function zt(){let e=g();return m({queryKey:d.metaMaskOverride(),refetchOnMount:"always",async queryFn(){return it(e)}})}function Gt(){let e=g(),t=y(),r=k();return f({async mutationFn(s){await at(e,s),r.capture("metamaskOverrideSettingsChanged",{data:{setting:s}})},async onSuccess(){await t.invalidateQueries({queryKey:d.metaMaskOverride()})}})}async function at(e,t){await e.set(nt,t)}n();i();function Yt(e){return F(t=>{let r=t.explorers[e]??I.get(e).defaultExplorer;return Xe[r]})}function Xt(e,t){return F(r=>{let s=r.explorers[e];return J({networkID:e,endpoint:"address",explorerType:s,param:t})})}function Jt(e){return F(t=>{if(!e)return"";let r=e.networkID,s=t.explorers[r];return J({networkID:r,endpoint:"transaction",explorerType:s,param:e.id})})}function F(e){let t=C(),r=d.preferredExplorers();return m({queryKey:r,queryFn:async()=>{let o=await t.get("userExplorerPreferenceV2");return o?{version:o.version,explorers:{...oe.explorers,...o.explorers}}:oe},select:e})}function Zt(){let e=C(),t=y();return f({mutationFn:async({preferredExplorers:o})=>{await e.set("userExplorerPreferenceV2",o)},onSuccess:()=>{t.invalidateQueries({queryKey:d.preferredExplorers()})}})}n();i();var ut=async(e,t)=>{let r=await e.get("solanaActionsEnabled");return r===null?t??!1:r};function er(e=!1){let t=g(),r=d.solanaActionsEnabled();return m({queryKey:r,queryFn:async()=>ut(t,e)})}function tr(){let e=g(),t=y();return f({mutationFn:async({enabled:o})=>{await e.set("solanaActionsEnabled",o)},onSuccess:()=>{t.invalidateQueries({queryKey:d.solanaActionsEnabled()})}})}n();i();var yt=O(U());n();i();function ct(){let{isSuccess:e,data:t}=se(),r=C(),s=d.recentAddresses();return m({enabled:e,queryKey:s,queryFn:async()=>{let a=await r.get("userRecentAddresses");if(!t)throw new Error(re);let u=t.enabledChainIDs;return a?pt(a,u):Y}})}function dt(){let{isSuccess:e,data:t}=se(),r=C(),s=d.savedAddresses();return m({enabled:e,queryKey:s,queryFn:async()=>{let a=await r.get("userSavedAddresses");if(!t)throw new Error(re);let u=t.enabledChainIDs;return a?pt(a,u):X}})}var pt=(e,t)=>({...e,addresses:e.addresses.filter(r=>t.includes(v.getChainID(r.chainID)))});function Ni(){return(e,t)=>{if(t==null)return e;if(e==null)return t;let r=e.addresses,s=t.addresses,o=new Map;r.forEach(u=>{o.set(u.address,u)}),s.forEach(u=>{o.set(u.address,u)});let a=Array.from(o.values());return{...e,addresses:a}}}n();i();function lt(){let e=C(),t=y();return f({mutationFn:async({recentAddresses:o})=>{await e.set("userRecentAddresses",o)},onSuccess:()=>{t.invalidateQueries({queryKey:d.recentAddresses()})}})}function mt(){let e=C(),t=y();return f({mutationFn:async({savedAddresses:o})=>{await e.set("userSavedAddresses",o)},onSuccess:()=>{t.invalidateQueries({queryKey:d.savedAddresses()})}})}var rr=()=>{let{data:e=[]}=_e(),{data:t=Y}=ct(),{data:r=X}=dt(),{mutate:s}=lt(),{mutate:o}=mt();return(0,yt.useMemo)(()=>({recentAddresses:t,savedAddresses:r,addRecentAddress:({address:a,chainID:u,timestamp:p=Date.now()})=>nr(e,t,r,s,{address:a,chainID:u,timestamp:p}),addSavedAddress:a=>ir(e,t,r,s,o,a),editSavedAddress:(a,u)=>ar(r,o,a,u),getExistingAccount:a=>or(e,a),getSavedAddressLabel:(a,u)=>ft(r.addresses,a,u),getKnownAddressLabel:(a,u)=>ft([r.addresses,sr(e)].flat(),a,u),isExistingAccountAddress:a=>ae(e,a),isRecentAddress:(a,u)=>gt(t,a,u),isSavedAddress:(a,u)=>ue(r,a,u),removeRecentAddress:a=>St(t,s,a),removeSavedAddress:a=>ur(r,o,a)}),[e,t,r,s,o])},sr=e=>{let t=[];for(let r of e)t.push(...r.addresses.map(({address:s,networkID:o})=>({address:s,chainID:o,label:r.name})));return t},or=(e,t)=>e[Et(e,t)],ae=(e,t)=>Et(e,t)>-1,gt=(e,t,r)=>q(e.addresses,{address:t,chainID:r})>-1,ue=(e,t,r)=>q(e.addresses,{address:t,chainID:r})>-1,nr=(e,t,r,s,{address:o,chainID:a,timestamp:u=Date.now()})=>{if(ae(e,o)||ue(r,o,a)||gt(t,o,a))return;t.addresses.unshift({address:o,chainID:a,timestamp:u});let{addresses:p}=t;return t.addresses=p.slice(0,Ye),s({recentAddresses:t}),t},ir=(e,t,r,s,o,a)=>{let{address:u,chainID:p}=a;if(ae(e,u)||ue(r,u,p))return;St(t,s,{address:u,chainID:p,timestamp:0});let S={...r,addresses:[...r.addresses,a]};return o({savedAddresses:S}),S},ar=(e,t,r,s)=>{let o=q(e.addresses,r);if(o<0)return;let a=[...e.addresses];a[o]=s;let u={...e,addresses:a};return t({savedAddresses:u}),u},St=(e,t,r)=>{let s=q(e.addresses,r);if(s<0)return;let o=[...e.addresses];o.splice(s,1);let a={...e,addresses:o};return t({recentAddresses:a}),a},ur=(e,t,r)=>{let s=q(e.addresses,r);if(s<0)return;let o=[...e.addresses];o.splice(s,1);let a={...e,addresses:o};return t({savedAddresses:a}),a},ft=(e,t,r)=>{let s=q(e,{address:t,chainID:r});if(!(s<0))return e[s].label},At=(e,t,r)=>v.isEVMNetworkID(r)?e.toLowerCase()===t.toLowerCase():e===t,Et=(e,t)=>e.findIndex(r=>r.addresses.find(s=>At(s.address,t,s.networkID))),q=(e,t)=>e.findIndex(r=>{let s=t.chainID===r.chainID,o=At(t.address,r.address,t.chainID);return s&&o});n();i();var Q=O(U());function xt(e,t=100){let[r,s]=(0,Q.useState)(e),o=(0,Q.useRef)(null);return(0,Q.useEffect)(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(e)},t),()=>{o.current&&clearTimeout(o.current)}),[s,e,t]),r}n();i();n();i();async function R(e){return await e.get(de)??Je}function ce(){let e=g();return m({queryKey:d.trustedApps(),refetchOnMount:"always",async queryFn(){return await R(e)}})}async function P(e,t){await e.set(de,t)}function cr(){let e=g(),t=y();return f({async mutationFn({trustedApps:r}){await P(e,r)},async onSuccess(){await t.invalidateQueries({queryKey:d.trustedApps()})}})}var de="userTrustedApps";n();i();var dr=()=>{let e=g();return m({queryKey:["settings:apiEnvironment"],queryFn:async()=>{let t=await e.get("apiEnvironment");return t?(ee(t),t):null},enabled:Ae})},pr=()=>{let e=g(),t=Me(),r=y();return f({mutationFn:async s=>{await e.set("apiEnvironment",s),ee(s),await lr(t,r),await mr(r)}})};async function lr(e,t){await e.logOut(),await Promise.all([Oe(t),Le(t)]),await Promise.all([Ue(t),Ne(t)])}async function mr(e){await e.invalidateQueries({queryKey:["settings:apiEnvironment"]})}n();i();function fr(){let e=C(),t=d.emojiSkinTone();return m({queryKey:t,queryFn:async()=>await e.get("emojiSkinTone")})}function yr(){let e=C(),t=y();return f({mutationFn:async({skinTone:o})=>{await e.set("emojiSkinTone",{version:1,skinTone:o})},onSuccess:()=>{t.invalidateQueries({queryKey:d.emojiSkinTone()})}})}n();i();var Ct=async e=>await e.get("isAnalyticsOptedOut")??Ze;function pe(){let e=C(),t=d.isAnalyticsOptedOut();return m({queryKey:t,queryFn:async()=>Ct(e)})}function gr(){let e=C(),t=k(),r=y();return f({mutationFn:async({isAnalyticsOptedOut:a})=>{await e.set("isAnalyticsOptedOut",a),await t.setAnalyticsOptedOut(a)},onSuccess:()=>{r.invalidateQueries({queryKey:d.isAnalyticsOptedOut()})}})}n();i();var Sr=O(U()),Ar=()=>{let e=g(),t=async()=>!!await e.get("balanceHiddenStatus"),{data:r}=m({queryKey:["balanceHiddenStatus"],queryFn:t});return r??!1},Er=()=>{let e=g(),t=y(),r=async o=>await e.set("balanceHiddenStatus",o),{mutateAsync:s}=f({mutationFn:r,onMutate:async o=>{await t.cancelQueries({queryKey:["balanceHiddenStatus"]});let a=t.getQueryData(["balanceHiddenStatus"]);return t.setQueryData(["balanceHiddenStatus"],o),{previousIsBalanceHidden:a}},onError:(o,a,u)=>{t.setQueryData(["balanceHiddenStatus"],u?.previousIsBalanceHidden)},onSuccess:()=>{t.invalidateQueries({queryKey:["balanceHiddenStatus"]})}});return s};n();i();var xr=()=>{let e=g(),t=async()=>await e.get("lockTimerMs")??tt;return m({queryKey:["lockTimerMs"],queryFn:t})},Cr=()=>{let e=g(),t=y();return f({mutationFn:async({lockTimeInMs:s})=>(Te.addBreadcrumb("account",`Lock timer updated to ${s}ms`,"debug"),await e.set("lockTimerMs",s)),onSuccess:()=>{t.invalidateQueries({queryKey:["lockTimerMs"]})}})};n();i();function hr(){let e=g(),t=d.showWalletShortcuts();return m({queryKey:t,queryFn:async()=>{let s=await e.get("showWalletShortcuts");return s!=null?s==="true":et}})}function vr(){let e=g(),t=y();return f({mutationFn:async({showWalletShortcuts:o})=>{await e.set("showWalletShortcuts",o?"true":"false")},onSuccess:()=>{t.invalidateQueries({queryKey:d.showWalletShortcuts()})}})}n();i();var fu=h.boolean();n();i();n();i();n();i();var wr=["localhost","127.0.0.1"];function ht(e){try{let t=e.trim();if(!t||t.startsWith("//"))return!1;let r=decodeURIComponent(t),o=/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//.test(r)?r:`http://${r}`,a=new URL(o);if(a.protocol!=="http:"&&a.protocol!=="https:")return!1;let u=a.hostname.toLowerCase();return wr.some(p=>u===p.toLowerCase())}catch{return!1}}n();i();var le=()=>{let e=ve("auto-confirm-session-duration");return typeof e=="number"&&e>0?e:N};var vt=(e=7200)=>({networks:{},maxSessionDuration:e}),Tr=h.object({networks:h.record(xe,h.boolean()),sessionStartTime:h.number().optional(),maxSessionDuration:h.number().positive()}),br=h.record(h.string(),Tr);function wt(e){let{sessionStartTime:t=0,maxSessionDuration:r=N,networks:s={}}=e??{};return Object.values(s).some(a=>a===!0)&&t>Date.now()-r*1e3}async function Dr(e,t){let s={...await R(e)};for(let o of Object.keys(s.apps[t]))s.apps[t][o].autoConfirm&&delete s.apps[t][o].autoConfirm;await P(e,s)}async function me(e){let r={...await R(e)};for(let s of Object.keys(r.apps))for(let o of Object.keys(r.apps[s]))ht(o)&&r.apps[s][o].autoConfirm&&delete r.apps[s][o].autoConfirm;await P(e,r)}async function fe(e,t,r,s=7200){let o=r.replace(/\/$/,""),a=await R(e),u=a?.apps?.[t]?.[o]??{},p=u?.autoConfirm??vt(s);if(u?.autoConfirm){let S=Object.values(p.networks).some(E=>E===!0);wt(u?.autoConfirm)===!1&&S&&(p=await Rr(u.autoConfirm),p=p??vt(s))}return u.autoConfirm=p,await P(e,a),u.autoConfirm}async function Tt(e,t,r,s,o=7200){let a=r.replace(/\/$/,"");await fe(e,t,a,o);let u=await R(e);u.apps[t]&&u.apps[t][a]&&(u.apps[t][a].autoConfirm=s),await P(e,u)}function kr(e,t){let r=g(),s=y(),o=t.replace(/\/$/,""),a=le();return{set:f({async mutationFn(u){await Tt(r,e,o,u,a)},async onSuccess(){await s.invalidateQueries({queryKey:d.trustedApps()}),await s.invalidateQueries({queryKey:d.allAutoConfirm(e)})}}),remove:f({async mutationFn(){let u=await R(r);u.apps[e][t]?.autoConfirm&&delete u.apps[e][t].autoConfirm,await P(r,u)},async onSuccess(){await s.invalidateQueries({queryKey:d.autoConfirm(e,t)})}}),get:m({queryKey:d.autoConfirm(e,t),refetchOnMount:"always",async queryFn(){return await fe(r,e,t,a)}})}}function Ir(e){let t=g(),r=y();return{removeAll:f({async mutationFn(){return await Dr(t,e)},async onSuccess(){await r.invalidateQueries({queryKey:d.trustedApps()}),await r.resetQueries({queryKey:d.allAutoConfirm(e)})}})}}function Rr(e){if(!e?.networks)return e;for(let t of Object.keys(e?.networks))e.networks[t]=!1;return e}var Pr=h.boolean(),bt="autoConfirmLocalhost";async function Dt(e){let t=await e.get(bt),r=Pr.safeParse(t);return r.success?r.data:!1}function Or(){let e=g();return m({queryKey:d.autoConfirmLocalhost(),refetchOnMount:"always",async queryFn(){return Dt(e)}})}function Ur(){let e=g(),t=y();return f({async mutationFn(r){await Mr(e,r),r===!1&&(await me(e),await t.invalidateQueries({queryKey:d.allAutoConfirmOnAllAccounts()}))},async onSuccess(){await t.invalidateQueries({queryKey:d.autoConfirmLocalhost()}),await t.invalidateQueries({queryKey:["auto-confirm"]})}})}async function Mr(e,t){await e.set(bt,t)}n();i();var kt=O(U());var _r=()=>{let{data:e,isFetching:t}=ce(),{data:r,isFetching:s}=pe(),{data:o,isFetching:a}=F(),u=t||s||a;return(0,kt.useMemo)(()=>({data:{"Analytics Opt Out":r,"Preferred Explorers":rt(o),"Trusted Apps":e},isFetching:u}),[r,u,o,e])};n();i();var It=async e=>{await e.invalidateQueries({queryKey:d.recentAddresses()}),await e.invalidateQueries({queryKey:d.savedAddresses()})};ke(It);n();i();var ye=O(U());var Lr="@phantom/kms",Nr={getPhantomOrganization:e=>[`${Lr}:getPhantomOrganization`,e]};function Kr(e){let t=y(),r=Fr(),s=Nr.getPhantomOrganization(e),{data:o}=m({queryKey:s,refetchOnMount:"always",async queryFn(){if(!r)throw new Error("KMS not initialized");return await r.getOrCreatePhantomOrganization()},enabled:!!r}),a=(0,ye.useMemo)(()=>o?.result.users.map(p=>p.traits?.appId).filter(p=>p!==void 0).filter((p,S,l)=>l.indexOf(p)===S),[o]),u=d.appPermissions(e,...a?.sort()??[]);return{get:m({queryKey:u,refetchOnMount:"always",async queryFn(){if(!r)throw new Error("KMS not initialized");if(!o)throw new Error("Phantom organization not found");if(!a||a.length===0)return[];let p=`/portal/v1/apps/metadata?ids=${a.join(",")}`,S=await j.api().get(p);if(!H(S))throw new Error("Failed to fetch metadata for apps");return S.data.map(l=>{let E=o.result.users.filter(T=>T.traits?.appId===l.id),A=Math.min(...E.map(T=>T.createdAtMs??0)),D=Math.max(...E.map(T=>T.expiresAtMs??0));return{appId:l.id,title:l.name,imageUrl:l.iconUrl??"",origin:l.url??l.name,expiresAtMs:D,createdAtMs:A}})},enabled:!!r&&!!o}),revoke:f({async mutationFn(p){if(!r)throw new Error("KMS not initialized");if(!o)throw new Error("Phantom organization not found");let S=o.result.users.filter(l=>l.traits?.appId===p);S.length!==0&&await Promise.allSettled(S.map(l=>r.deleteUserFromOrganization({username:l.username,organizationId:o.result.organizationId})))},onMutate:p=>{let S=t.getQueryData(u),l=S?.filter(E=>E.appId!==p);return t.setQueryData(u,l),{prevAppPermissions:S}},onSettled:async(p,S,l,E)=>{S&&t.setQueryData(u,E?.prevAppPermissions),await t.refetchQueries({queryKey:s}),await t.refetchQueries({queryKey:u})}})}}function Fr(){let e=Re();return(0,ye.useMemo)(()=>{try{return e.getKMSInstance()}catch{return null}},[e])}n();i();var _=O(U()),qr=({isTestnetMode:e,enabledAddressTypes:t,enableAddressTypes:r,disableAddressTypes:s})=>{let{t:o}=Ie(),a=(0,_.useMemo)(()=>v.getAddressTypes(e?"bip122:000000000933ea01ad0ee984209779ba":"bip122:000000000019d6689c085ae165831e93").sort(Pt),[e]),u=(0,_.useMemo)(()=>a.filter(A=>t.includes(A)).sort(Pt),[a,t]),p=(0,_.useCallback)(A=>{let D=v.getChainIDs(A);for(let T of D)if(v[T].addressTypes.filter(Mt=>t.includes(Mt)).length<=1)return!1;return!0},[t]),S=k(),l=(0,_.useCallback)((A,D)=>{D?p(A)&&(s({addressTypes:[A]}),S.capture("settingsPreferredBitcoinAddressToggledOffByUser",{data:{toggle:{addressType:A}}})):(r({addressTypes:[A]}),S.capture("settingsPreferredBitcoinAddressToggledOnByUser",{data:{toggle:{addressType:A}}}))},[S,p,s,r]),E=(0,_.useMemo)(()=>({bip122_p2wpkh:{title:te.getDisplayName("bip122_p2wpkh"),subtitle:o("settingsPreferredBitcoinAddressNativeSegwitExplainer")},bip122_p2tr:{title:te.getDisplayName("bip122_p2tr"),subtitle:o("settingsPreferredBitcoinAddressTaprootExplainer")}}),[o]);return{availableBitcoinAddressTypes:a,enabledBitcoinAddressTypes:u,canDisableAddressType:p,handleAddressTypeEnablementChange:l,PREFERRED_BTC_ADDRESS_CONTENT:E}},Rt=["bip122_p2wpkh","bip122_p2tr","bip122_p2sh","bip122_p2pkh"],Pt=(e,t)=>Rt.indexOf(e)-Rt.indexOf(t);n();i();var Qr=b.USD.value,ge=()=>{let{value:e}=be("selectedCurrency");return{data:e??Qr}},Se=()=>De("selectedCurrency");n();i();var Z=O(U());var Ot=[b.USD,b.EUR],Vr=({beforeSelectCurrency:e=()=>Promise.resolve(),goBack:t})=>{let r=k(),{data:s}=ge(),{run:o}=Se(),[a,u]=(0,Z.useState)(""),p=xt(a,200);return{currencyRows:(0,Z.useMemo)(()=>Object.values(b).sort((l,E)=>{let A=Ot.indexOf(l),D=Ot.indexOf(E),T=A!==-1,$=D!==-1;return T&&$?A-D:T&&!$?-1:!T&&$?1:l.name.localeCompare(E.name)}).filter(l=>[l.name,l.symbol,l.abbreviation].some(A=>A.toLowerCase().includes(p.toLowerCase()))).map(l=>{let E=s===l.value,A=()=>{l.value!==s&&e(l).then(()=>{r.capture("settingsCurrencyUpdatedByUser",{data:{newCurrency:l.value,oldCurrency:s}}),o(l.value),t()})};return{key:`currency-${l.value}`,topLeft:`${l.abbreviation} - ${l.name} (${l.symbol})`,type:"radio",active:E,onPress:A}}),[r,p,t,s,o,e]),searchQuery:a,setSearchQuery:u}};n();i();var Ut="enableSolanaCopyTransaction";function Br(){let e=y(),t=g(),r=["settings","solana","enableCopyTransaction"],s=async()=>!!await t.get(Ut),a=f({mutationFn:async p=>{await t.set(Ut,p)},onSuccess:()=>{e.invalidateQueries({queryKey:r})}}),u=m({queryKey:r,queryFn:s});return{data:u.data,isLoading:u.isPending,mutate:a.mutate}}var $r=Br;n();i();export{M as a,He as b,G as c,ze as d,Ge as e,I as f,vo as g,Xe as h,Nt as i,wo as j,To as k,et as l,tt as m,J as n,Kt as o,Ft as p,qt as q,Bt as r,jt as s,ot as t,ht as u,le as v,d as w,R as x,ce as y,P as z,cr as A,de as B,wt as C,fe as D,Tt as E,kr as F,Ir as G,Ni as H,ie as I,it as J,zt as K,Gt as L,at as M,dr as N,pr as O,fr as P,yr as Q,Ct as R,pe as S,gr as T,Ar as U,Er as V,xr as W,Cr as X,Yt as Y,Xt as Z,Jt as _,F as $,Zt as aa,hr as ba,vr as ca,ut as da,er as ea,tr as fa,Dt as ga,Or as ha,Ur as ia,rr as ja,_r as ka,Kr as la,qr as ma,ge as na,xt as oa,Vr as pa,$r as qa};
//# sourceMappingURL=chunk-XO3ZXIMS.js.map
